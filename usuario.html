<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loja de Eletrônicos</title>
    <link rel="stylesheet" href="src/css/usuarioPg/usuario.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <!-- Top Bar -->
    <header class="topbar">
        <div class="menu-icon" id="openSidebar"><i class="fa fa-bars"></i></div>
        <div class="logo">
            <a href="index.html"><img src="src/imgs/logo/image.png" alt="Logo"></a>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Buscar produtos...">
            <button><i class="fa fa-search"></i></button>
        </div>
        <div class="icons">
            <a href="Login.html"><i class="fa fa-user"></i></a>
            <i class="fa fa-cog"></i>
            <a href="carrinho.html"><i class="fa fa-shopping-cart"></i></a>
        </div>
    </header>

    <!-- Sidebar (oculta por padrão) -->
    <aside class="sidebar" id="sidebar">
        <button class="close-btn" id="closeSidebar"><i class="fa fa-times"></i></button>
        <div class="sidebar-logo">
            <img src="src/imgs/logo/image.png" alt="Epic Hardware" width="150">
        </div>
        <h3>Categorias</h3>
        <ul>
            <li><i class="fa fa-desktop"></i> Computadores</li>
            <li><i class="fa fa-tv"></i> Monitores</li>
            <li><i class="fa fa-recycle"></i> Produtos Reutilizados</li>
            <li><i class="fa fa-microchip"></i> Hardware</li>
            <li><i class="fa fa-keyboard"></i> Periféricos</li>
            <li><i class="fa fa-certificate"></i> Produtos Certificados</li>
        </ul>
        <h3>Ajuda</h3>
        <ul>
            <li><i class="fa fa-user-circle"></i> Seu perfil</li>
            <li><i class="fa fa-headset"></i> Suporte</li>
            <li><i class="fa fa-wrench"></i> Configurações</li>
        </ul>
    </aside>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <main>
        <div class="greeting">
            <span>Olá, Derek Tyle <img src="src/imgs/icons/aceno.png" alt="Aceno"></span>
        </div>

        <button id="logout-btn"
            style="margin: 20px 0 30px 0; padding: 10px 24px; background: #e74c3c; color: #fff; border: none; border-radius: 6px; font-size: 1rem; cursor: pointer;">
            <i class="fa fa-sign-out-alt"></i> Sair da conta
        </button>

        <h2>Favoritos:</h2>

        <section class="product-list">
            <div class="product">
                <img src="src/imgs/icons/fone.png" alt="Fone de Ouvido Apple Airpods 4">
                <div class="product-info">
                    <h3>Fone de Ouvido Apple Airpods 4</h3>
                    <p>Marca: Pichau</p>
                    <p class="price">R$ 839,70</p>
                    <p class="discount">À vista com 15% de desconto no PIX</p>
                    <p class="installments">Em até 12x de R$ 79,52 - Sem juros no cartão</p>
                </div>
            </div>

            <div class="product">
                <a href="carrinho.html">
                    <img src="src/imgs/icons/monitor.png" alt="Monitor 27'">
                </a>
                <div class="product-info">
                    <h3>Monitor 27'</h3>
                    <p>Marca: Pichau</p>
                    <p class="price">R$ 839,70</p>
                    <p class="discount">À vista com 15% de desconto no PIX</p>
                    <p class="installments">Em até 12x de R$ 79,52 - Sem juros no cartão</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-links">
            <a href="menu.html" class="menu-item">
                <img src="src/imgs/icons/lista.png" alt="lista">
            </a>
            <a href="#" class="menu-item">
                <img src="src/imgs/icons/Adicionar.png" alt="Adicionar">
            </a>
            <a href="buscar.html" class="search-item">
                <img src="src/imgs/icons/lupa.png" alt="Buscar">
            </a>
        </div>
    </footer>
</body>
<script src="src/js/usuariopg/script.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const usuario = JSON.parse(localStorage.getItem("usuarioLogado"));
        if (!usuario) {
            window.location.href = "Login.html";
            return;
        }

        // Saudação dinâmica
        document.querySelector(".greeting span").innerHTML = `Olá, ${usuario.nome.split(" ")[0]} <img src="src/imgs/icons/aceno.png" alt="Aceno">`;

        // Exibir favoritos reais
        const produtos = [{
            id: 1,
            nome: "Placa de Vídeo RX 560 XT",
            preco: 1500,
            descricao: "Placa de vídeo Radeon RX 560 XT, 8GB GDDR5, excelente para jogos em Full HD.",
            imagem: "src/imgs/produtos/placa de video.jpg"
        },
        {
            id: 2,
            nome: "Processador Ryzen 5 4500",
            preco: 950,
            descricao: "Processador AMD Ryzen 5 4500, 6 núcleos, 12 threads, até 4.1GHz, ideal para multitarefas.",
            imagem: "src/imgs/produtos/ryzen5.jpg"
        },
        {
            id: 3,
            nome: "Memória RAM 16GB DDR4 3200MHz",
            preco: 420,
            descricao: "Kit 2x8GB DDR4 3200MHz, alto desempenho para jogos e produtividade.",
            imagem: "src/imgs/produtos/Memoria Ram kllisre.webp"
        },
        {
            id: 4,
            nome: "Placa-mãe ASUS TUF B450M",
            preco: 550,
            descricao: "Placa-mãe ASUS TUF B450M, compatível com processadores Ryzen, robusta e durável.",
            imagem: "src/imgs/produtos/Placa-mãe ASUS TUF B450M.jpg"
        },
        {
            id: 5,
            nome: "Fonte Corsair CV550 80 Plus Bronze",
            preco: 300,
            descricao: "Fonte Corsair CV550 de 550W, certificação 80 Plus Bronze, ideal para PCs intermediários.",
            imagem: "src/imgs/produtos/Fonte Corsair CV550 80 Plus Bronze.jpg"
        },
        {
            id: 6,
            nome: "SSD Kingston A2000 500GB",
            preco: 400,
            descricao: "SSD Kingston A2000 NVMe 500GB, velocidade de leitura até 2200MB/s, perfeito para boot rápido.",
            imagem: "src/imgs/produtos/SSD Kingston A2000 500GB.jpg"
        },
        {
            id: 7,
            nome: "HD Seagate Barracuda 1TB",
            preco: 250,
            descricao: "HD Seagate Barracuda 1TB, 7200 RPM, confiável e com grande capacidade de armazenamento.",
            imagem: "src/imgs/produtos/HD Seagate Barracuda 1TB.jpg"
        },
        {
            id: 8,
            nome: "Cooler Master Hyper 212 EVO",
            preco: 180,
            descricao: "Cooler Master Hyper 212 EVO, sistema de refrigeração para processadores com excelente custo-benefício.",
            imagem: "src/imgs/produtos/Cooler Master Hyper 212 EVO.jpg"
        },
        {
            id: 9,
            nome: "Gabinete NZXT H510",
            preco: 450,
            descricao: "Gabinete NZXT H510, design clean e excelente gerenciamento de cabos, ideal para setups modernos.",
            imagem: "src/imgs/produtos/Gabinete NZXT H510.jpg"
        },
        {
            id: 10,
            nome: "Teclado Mecânico Redragon K552",
            preco: 250,
            descricao: "Teclado mecânico Redragon K552 com switches Outemu Red, retroiluminação RGB e alta durabilidade.",
            imagem: "src/imgs/produtos/Teclado Mecânico Redragon K552.jpg"
        },
        {
            id: 11,
            nome: "Mouse Gamer Logitech G203",
            preco: 130,
            descricao: "Mouse gamer Logitech G203, 8000 DPI, ideal para jogos rápidos e de precisão.",
            imagem: "src/imgs/produtos/mouse logitech.jpg"
        },
        {
            id: 12,
            nome: "Monitor LED 24\" AOC 75Hz",
            preco: 600,
            descricao: "Monitor AOC de 24 polegadas, resolução Full HD e taxa de atualização de 75Hz.",
            imagem: "src/imgs/produtos/monitor aoc.jpg"
        },
        {
            id: 13,
            nome: "Headset Razer Kraken X",
            preco: 350,
            descricao: "Headset Razer Kraken X, som imersivo e microfone ajustável para comunicação clara.",
            imagem: "src/imgs/produtos/headset razer.jpg"
        },
        {
            id: 14,
            nome: "Placa de Áudio Creative Sound Blaster Z",
            preco: 450,
            descricao: "Placa de áudio Creative Sound Blaster Z, som de alta qualidade para gamers e profissionais.",
            imagem: "src/imgs/produtos/placa de audio.jpg"
        },
        {
            id: 15,
            nome: "Webcam Logitech C920",
            preco: 400,
            descricao: "Webcam Logitech C920, Full HD 1080p, ideal para streaming e videochamadas.",
            imagem: "src/imgs/produtos/webcam logitech.jpg"
        },
        {
            id: 16,
            nome: "Leitor de Cartão SD Kingston 35MB/s",
            preco: 80,
            descricao: "Leitor de cartão SD Kingston, velocidade de leitura até 35MB/s, compacto e eficiente.",
            imagem: "src/imgs/produtos/leitor de cartao.jpg"
        },
        {
            id: 17,
            nome: "Hub USB 3.0 4 Portas Anker",
            preco: 100,
            descricao: "Hub USB 3.0 Anker com 4 portas, compacto e ideal para expandir as conexões do seu PC.",
            imagem: "src/imgs/produtos/hub usb.jpg"
        },
        {
            id: 18,
            nome: "Controlador de Jogos Xbox One",
            preco: 350,
            descricao: "Controle Xbox One, compatível com PC e consoles, design ergonômico e excelente para jogos.",
            imagem: "src/imgs/produtos/controlador xbox.jpg"
        },
        {
            id: 19,
            nome: "Placa de Captura Elgato HD60 S",
            preco: 1300,
            descricao: "Placa de captura Elgato HD60 S, captura de vídeo em Full HD a 60fps, ideal para streamers.",
            imagem: "src/imgs/produtos/placa de captura.jpg"
        },
        {
            id: 20,
            nome: "Roteador TP-Link Archer C6",
            preco: 250,
            descricao: "Roteador TP-Link Archer C6, Wi-Fi AC1200, ideal para conexões estáveis e rápidas em sua casa.",
            imagem: "src/imgs/produtos/roteador tplink.jpg"
        },
        {
            id: 21,
            nome: "Memória RAM Corsair Vengeance 32GB",
            preco: 850,
            descricao: "Memória RAM Corsair Vengeance 32GB, DDR4, ideal para tarefas pesadas e multitarefa.",
            imagem: "src/imgs/produtos/ram corsair.jpg"
        },
        {
            id: 22,
            nome: "Placa de Vídeo GeForce GTX 1660",
            preco: 2500,
            descricao: "Placa de vídeo GeForce GTX 1660, 6GB GDDR5, excelente para jogos em 1080p.",
            imagem: "src/imgs/produtos/placa de video gtx.jpg"
        },
        {
            id: 23,
            nome: "Processador Intel Core i7-10700K",
            preco: 2300,
            descricao: "Processador Intel Core i7-10700K, 8 núcleos, 16 threads, até 5.1GHz, ideal para overclocking.",
            imagem: "src/imgs/produtos/processador i7.jpg"
        }];
        const favoritos = usuario.favoritos || [];
        const favoritosProdutos = produtos.filter(p => favoritos.includes(p.id));

        const productList = document.querySelector(".product-list");
        productList.innerHTML = "";

        if (favoritosProdutos.length === 0) {
            productList.innerHTML = "<p>Você ainda não favoritou nenhum produto.</p>";
        } else {
            favoritosProdutos.forEach(produto => {
                const div = document.createElement("div");
                div.className = "product";
                div.innerHTML = `
        <img src="${produto.imagem}" alt="${produto.nome}">
        <div class="product-info">
          <h3>${produto.nome}</h3>
          <p class="price">R$ ${produto.preco.toFixed(2)}</p>
          <p>${produto.descricao}</p>
        </div>
      `;
                productList.appendChild(div);
            });
        }

        // Botão de sair da conta
        document.getElementById("logout-btn").addEventListener("click", function () {
            localStorage.removeItem("usuarioLogado");
            window.location.href = "index.html";
        });
    });

    // Adapta o ícone/nome do usuário na topbar e o redirecionamento
    document.addEventListener("DOMContentLoaded", function () {
        const usuarioLogado = JSON.parse(localStorage.getItem("usuarioLogado"));
        const userLink = document.querySelector(".icons a");
        if (!userLink) return;

        // Troca ícone pelo nome se logado
        if (usuarioLogado) {
            userLink.innerHTML = `<span class="user-nome">${usuarioLogado.nome.split(" ")[0]}</span>`;
            userLink.addEventListener("click", function (e) {
                e.preventDefault();
                window.location.href = "usuario.html";
            });
        } else {
            userLink.innerHTML = `<i class="fa fa-user"></i>`;
            // (opcional: pode deixar o link para Login.html)
        }
    });
</script>

</html>