body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f4f4f4;
    /* Fundo cinza claro */
    color: #333;
}

/* ========================================================== */
/* ============== TOPBAR, SIDEBAR E BADGE (BASE) ============ */
/* ========================================================== */
.topbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #fff;
    padding: 10px 20px;
    position: sticky;
    top: 0;
    z-index: 10;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.menu-icon {
    cursor: pointer;
    font-size: 35px;
    color: #333;
    padding-right: 15px;
}

.logo img {
    height: 60px;
}

/* --- Search Bar --- */
.search-bar {
    display: flex;
    flex: 1;
    margin: 0 20px;
    max-width: 500px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
    border-radius: 25px;
    overflow: hidden;
}

.search-bar input {
    flex: 1;
    padding: 10px 15px;
    border: none;
    font-size: 16px;
    outline: none;
}

.search-bar button {
    padding: 10px 18px;
    border: none;
    background: #00aaff;
    color: white;
    cursor: pointer;
    transition: background 0.3s;
}

.search-bar button:hover {
    background: #0088cc;
}

/* --- Icons e Navegação --- */
.icons {
    display: flex;
    align-items: center;
}

.icons a {
    text-decoration: none;
    color: #333;
}

.icons i,
.icons .user-nome {
    margin-left: 15px;
    cursor: pointer;
    font-size: 24px;
    color: #333;
}

.icons .user-nome {
    font-size: 16px;
    font-weight: bold;
}

/* --- Carrinho Badge --- */
.cart-container {
    position: relative;
    display: inline-block;
    margin-left: 15px;
}

.cart-container .fa-shopping-cart {
    margin-left: 0;
}

.badge {
    position: absolute;
    top: -5px;
    right: -10px;
    background-color: #e74c3c;
    color: white;
    font-size: 10px;
    font-weight: bold;
    min-width: 18px;
    height: 18px;
    border-radius: 50%;
    padding: 3px 0;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 5;
    box-shadow: 0 0 0 2px white;
}

/* --- Sidebar --- */
.sidebar {
    position: fixed;
    top: 0;
    left: -300px;
    width: 260px;
    height: 100%;
    background: #4aa8e5;
    color: white;
    padding: 20px;
    transition: left 0.3s ease-in-out;
    z-index: 20;
    box-shadow: 4px 0 8px rgba(0, 0, 0, 0.2);
}

.sidebar.active {
    left: 0;
}

.sidebar h3 {
    margin-top: 25px;
    font-size: 18px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    padding-bottom: 5px;
    margin-bottom: 15px;
}

.sidebar ul {
    list-style: none;
    padding: 0;
}

.sidebar ul li {
    margin: 12px 0;
    cursor: pointer;
    transition: background 0.2s;
    padding: 8px 10px;
    border-radius: 4px;
    font-size: 15px;
}

.sidebar ul li:hover {
    background: rgba(255, 255, 255, 0.1);
}

.sidebar ul li i {
    margin-right: 10px;
}

.close-btn {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    float: right;
    cursor: pointer;
}

.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 15;
    display: none;
    transition: opacity 0.3s;
}

.overlay.active {
    display: block;
}

/* ========================================================== */
/* =================== TELA DE PAGAMENTO ==================== */
/* ========================================================== */

.container {
    padding: 20px;
    max-width: 900px;
    margin: 20px auto;
}

/* --- Barra de Progresso --- */
.progress-bar {
    display: flex;
    justify-content: space-between;
    margin-bottom: 30px;
    padding: 0 10px;
}

.progress {
    flex: 1;
    height: 6px;
    background: #ddd;
    /* Cor de passo pendente/não visitado */
    margin-right: 8px;
    border-radius: 3px;
    transition: background 0.3s;
    /* Adiciona transição para a cor */
}

.progress:last-child {
    margin-right: 0;
}

/* Estilo para TODOS os passos ATIVOS (Endereço, Frete, Pagamento) */
.progress.active {
    background: #00aaff;
    /* Cor de passo completo/visitado */
}

/* Opcional: Se você quiser que o passo atual tenha uma cor sutilmente diferente ou um destaque: */
.progress.current {
    /* Mantém a cor azul para indicar que estamos neste passo */
    background: #ddd;
}

/* --- Títulos de Seção --- */
h2 {
    font-size: 18px;
    color: #333;
    margin-bottom: 15px;
    font-weight: 600;
    border-left: 4px solid #00aaff;
    padding-left: 10px;
}

h2 .icon {
    font-size: 18px;
    margin-right: 5px;
    color: #00aaff;
}

/* --- Cards de Pagamento (Opções) --- */

/* Estilo Base do Card */
.card {
    background: white;
    padding: 15px;
    border-radius: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);
    border: 1px solid #e0e0e0;
    cursor: pointer;
    transition: all 0.2s;
}

.card:hover {
    border-color: #0089ce;
}

/* Estilo Específico para o Card de Pagamento */
.payment-card {
    position: relative;
    user-select: none;
}

.method-details {
    flex-grow: 1;
}

.payment-card .title {
    font-weight: bold;
    font-size: 16px;
    margin: 0;
}

.payment-card .title i {
    margin-right: 10px;
    color: #00aaff;
    /* Cor do ícone padrão */
}

.payment-card .subtitle {
    font-size: 13px;
    color: #777;
    margin: 5px 0 0;
}

/* Badge de Desconto (PIX) */
.discount-badge {
    background: #2ecc71;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: bold;
}

/* Ícone de Chevron (usado como indicador visual) */
.payment-card .change {
    font-size: 18px;
    color: #ccc;
}

/* Destaque para o Card Selecionado (usando o truque do input hidden) */
.payment-card:has(input[type="radio"]:checked) {
    border-color: #2ecc71;
    box-shadow: 0 0 0 1px #2ecc71;
}

.payment-card:has(input[type="radio"]:checked) .title {
    color: #2ecc71;
}

.payment-card:has(input[type="radio"]:checked) .title i {
    color: #2ecc71;
}


/* --- Resumo do Pedido --- */
.summary {
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);
    margin-top: 30px;
}

.summary h3 {
    font-size: 16px;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
    margin-top: 0;
    margin-bottom: 15px;
    font-weight: 600;
}

.summary .line {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 15px;
}

.summary .line span:first-child {
    color: #555;
}

.summary .line span:last-child {
    font-weight: 500;
}

/* Estilo para a linha de desconto (ativa via JS) */
.summary .discount-line {
    color: #2ecc71;
    font-weight: 600;
}

.summary .discount-line span:last-child {
    font-weight: 600;
}


.summary .line.total {
    font-weight: bold;
    font-size: 18px;
    border-top: 1px dashed #ddd;
    padding-top: 15px;
    margin-top: 15px;
}

.summary .line.total span {
    color: #333;
}


/* --- Botão de Ação --- */
#confirmar-pagamento-btn {
    /* Usando o ID do novo HTML */
    background: #00aaff;
    color: white;
    border: none;
    width: 100%;
    padding: 16px;
    font-size: 17px;
    font-weight: bold;
    border-radius: 8px;
    margin-top: 25px;
    cursor: pointer;
    transition: background 0.3s;
}

#confirmar-pagamento-btn:hover {
    background: #0089ce;
}

/* --- Bottom Nav (Ajuste para não conflitar com o botão principal) --- */
.bottom-nav {
    display: none;
    /* Geralmente removido em telas de checkout para evitar distração */
}

/* Media Query (Básica para responsividade) */
@media (max-width: 600px) {
    .container {
        padding: 10px;
        margin: 10px auto;
    }

    .progress-bar {
        margin-bottom: 20px;
    }
}